"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2076],{73:(P,_,r)=>{r.d(_,{c:()=>a});var f=r(5705),g=r(906),c=r(6011);const a=(s,t)=>{let e,o;const m=(i,h,w)=>{if(typeof document>"u")return;const x=document.elementFromPoint(i,h);x&&t(x)&&!x.disabled?x!==e&&(n(),d(x,w)):n()},d=(i,h)=>{e=i,o||(o=e);const w=e;(0,f.w)(()=>w.classList.add("ion-activated")),h()},n=(i=!1)=>{if(!e)return;const h=e;(0,f.w)(()=>h.classList.remove("ion-activated")),i&&o!==e&&e.click(),e=void 0};return(0,c.createGesture)({el:s,gestureName:"buttonActiveDrag",threshold:0,onStart:i=>m(i.currentX,i.currentY,g.b),onMove:i=>m(i.currentX,i.currentY,g.a),onEnd:()=>{n(!0),(0,g.h)(),o=void 0}})}},583:(P,_,r)=>{r.d(_,{c:()=>a,g:()=>s});var f=r(9596),g=r(4674),c=r(5705);const a=(e,o,m)=>{let d,n;if(void 0!==f.w&&"MutationObserver"in f.w){const x=Array.isArray(o)?o:[o];d=new MutationObserver(C=>{for(const p of C)for(const y of p.addedNodes)if(y.nodeType===Node.ELEMENT_NODE&&x.includes(y.slot))return m(),void(0,g.r)(()=>i(y))}),d.observe(e,{childList:!0,subtree:!0})}const i=x=>{var C;n&&(n.disconnect(),n=void 0),n=new MutationObserver(p=>{m();for(const y of p)for(const O of y.removedNodes)O.nodeType===Node.ELEMENT_NODE&&O.slot===o&&w()}),n.observe(null!==(C=x.parentElement)&&void 0!==C?C:x,{subtree:!0,childList:!0})},w=()=>{n&&(n.disconnect(),n=void 0)};return{destroy:()=>{d&&(d.disconnect(),d=void 0),w()}}},s=(e,o,m)=>{const d=null==e?0:e.toString().length,n=t(d,o);if(void 0===m)return n;try{return m(d,o)}catch(i){return(0,c.j)("[ion-input] - Exception in provided `counterFormatter`:",i),n}},t=(e,o)=>`${e} / ${o}`},647:(P,_,r)=>{r.d(_,{i:()=>f});const f=g=>g&&""!==g.dir?"rtl"===g.dir.toLowerCase():"rtl"===document?.dir.toLowerCase()},906:(P,_,r)=>{r.d(_,{I:()=>g,a:()=>o,b:()=>e,c:()=>t,d:()=>d,h:()=>m});var f=r(6780),g=function(n){return n.Heavy="HEAVY",n.Medium="MEDIUM",n.Light="LIGHT",n}(g||{});const a={getEngine(){const n=(0,f.g)();if(n?.isPluginAvailable("Haptics"))return n.Plugins.Haptics},available(){if(!this.getEngine())return!1;const i=(0,f.g)();return"web"!==i?.getPlatform()||typeof navigator<"u"&&void 0!==navigator.vibrate},impact(n){const i=this.getEngine();i&&i.impact({style:n.style})},notification(n){const i=this.getEngine();i&&i.notification({type:n.type})},selection(){this.impact({style:g.Light})},selectionStart(){const n=this.getEngine();n&&n.selectionStart()},selectionChanged(){const n=this.getEngine();n&&n.selectionChanged()},selectionEnd(){const n=this.getEngine();n&&n.selectionEnd()}},s=()=>a.available(),t=()=>{s()&&a.selection()},e=()=>{s()&&a.selectionStart()},o=()=>{s()&&a.selectionChanged()},m=()=>{s()&&a.selectionEnd()},d=n=>{s()&&a.impact(n)}},1148:(P,_,r)=>{r.d(_,{c:()=>t});var f=r(467),g=r(9596),c=r(9043);const a=e=>void 0===g.d||e===c.a.None||void 0===e?null:g.d.querySelector("ion-app")??g.d.body,s=e=>{const o=a(e);return null===o?0:o.clientHeight},t=function(){var e=(0,f.A)(function*(o){let m,d,n,i;const h=function(){var y=(0,f.A)(function*(){const O=yield c.K.getResizeMode(),v=void 0===O?void 0:O.mode;m=()=>{void 0===i&&(i=s(v)),n=!0,w(n,v)},d=()=>{n=!1,w(n,v)},null==g.w||g.w.addEventListener("keyboardWillShow",m),null==g.w||g.w.addEventListener("keyboardWillHide",d)});return function(){return y.apply(this,arguments)}}(),w=(y,O)=>{o&&o(y,x(O))},x=y=>{if(0===i||i===s(y))return;const O=a(y);return null!==O?new Promise(v=>{const l=new ResizeObserver(()=>{O.clientHeight===i&&(l.disconnect(),v())});l.observe(O)}):void 0};return yield h(),{init:h,destroy:()=>{null==g.w||g.w.removeEventListener("keyboardWillShow",m),null==g.w||g.w.removeEventListener("keyboardWillHide",d),m=d=void 0},isKeyboardVisible:()=>n}});return function(m){return e.apply(this,arguments)}}()},1832:(P,_,r)=>{r.d(_,{I:()=>t,a:()=>d,b:()=>s,c:()=>h,d:()=>x,f:()=>n,g:()=>m,i:()=>o,p:()=>w,r:()=>C,s:()=>i});var f=r(467),g=r(4674),c=r(5705);const s="ion-content",t=".ion-content-scroll-host",e=`${s}, ${t}`,o=p=>"ION-CONTENT"===p.tagName,m=function(){var p=(0,f.A)(function*(y){return o(y)?(yield new Promise(O=>(0,g.c)(y,O)),y.getScrollElement()):y});return function(O){return p.apply(this,arguments)}}(),d=p=>p.querySelector(t)||p.querySelector(e),n=p=>p.closest(e),i=(p,y)=>o(p)?p.scrollToTop(y):Promise.resolve(p.scrollTo({top:0,left:0,behavior:"smooth"})),h=(p,y,O,v)=>o(p)?p.scrollByPoint(y,O,v):Promise.resolve(p.scrollBy({top:O,left:y,behavior:v>0?"smooth":"auto"})),w=p=>(0,c.t)(p,s),x=p=>{if(o(p)){const O=p.scrollY;return p.scrollY=!1,O}return p.style.setProperty("overflow","hidden"),!0},C=(p,y)=>{o(p)?p.scrollY=y:p.style.removeProperty("overflow")}},2092:(P,_,r)=>{r.d(_,{a:()=>t});var f=r(467),g=r(5083),c=r(5873);const a=(0,g.F3)("Geolocation",{web:()=>r.e(2920).then(r.bind(r,2920)).then(e=>new e.GeolocationWeb)});(0,c.Y)();var s=r(2615);let t=(()=>{var e;class o{constructor(){this.defaultOptions={enableHighAccuracy:!0,timeout:1e4,maximumAge:0}}getCurrentPosition(){var d=this;return(0,f.A)(function*(){if(!g.Ii.isNativePlatform())return d.getWebPosition();try{if("granted"!==(yield a.checkPermissions()).location&&"granted"!==(yield a.requestPermissions()).location)throw new Error("Permisos de ubicacion denegados");const i=yield a.getCurrentPosition(d.defaultOptions);return{latitude:i.coords.latitude,longitude:i.coords.longitude,altitude:i.coords.altitude??void 0,accuracy:i.coords.accuracy??void 0}}catch(n){throw console.error("Error getting location:",n),n}})()}getWebPosition(){return new Promise((d,n)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(i=>{d({latitude:i.coords.latitude,longitude:i.coords.longitude,altitude:i.coords.altitude??void 0,accuracy:i.coords.accuracy??void 0})},i=>{let h="Error al obtener ubicacion";i.code===i.PERMISSION_DENIED?h="Permiso de ubicacion denegado":i.code===i.POSITION_UNAVAILABLE?h="Ubicacion no disponible":i.code===i.TIMEOUT&&(h="Tiempo de espera agotado"),n(new Error(h))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):n(new Error("Geolocalizacion no soportada"))})}watchPosition(d){var n=this;return(0,f.A)(function*(){return yield a.watchPosition(n.defaultOptions,(h,w)=>{w?console.error("Watch position error:",w):h&&d({latitude:h.coords.latitude,longitude:h.coords.longitude,altitude:h.coords.altitude??void 0,accuracy:h.coords.accuracy??void 0})})})()}clearWatch(d){return(0,f.A)(function*(){yield a.clearWatch({id:d})})()}formatCoordinates(d,n){const i=d>=0?"N":"S",h=n>=0?"E":"W";return Math.abs(d).toFixed(6)+" "+i+", "+Math.abs(n).toFixed(6)+" "+h}calculateDistance(d,n,i,h){const x=d*Math.PI/180,C=i*Math.PI/180,p=(i-d)*Math.PI/180,y=(h-n)*Math.PI/180,O=Math.sin(p/2)*Math.sin(p/2)+Math.cos(x)*Math.cos(C)*Math.sin(y/2)*Math.sin(y/2);return 2*Math.atan2(Math.sqrt(O),Math.sqrt(1-O))*6371e3}static#t=e=()=>(this.\u0275fac=function(n){return new(n||o)},this.\u0275prov=s.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}))}return e(),o})()},3224:(P,_,r)=>{r.r(_),r.d(_,{KEYBOARD_DID_CLOSE:()=>s,KEYBOARD_DID_OPEN:()=>a,copyVisualViewport:()=>E,keyboardDidClose:()=>p,keyboardDidOpen:()=>x,keyboardDidResize:()=>C,resetKeyboardAssist:()=>d,setKeyboardClose:()=>w,setKeyboardOpen:()=>h,startKeyboardAssist:()=>n,trackViewportChanges:()=>v});var f=r(9043);r(6780),r(9596);const a="ionKeyboardDidShow",s="ionKeyboardDidHide";let e={},o={},m=!1;const d=()=>{e={},o={},m=!1},n=l=>{if(f.K.getEngine())i(l);else{if(!l.visualViewport)return;o=E(l.visualViewport),l.visualViewport.onresize=()=>{v(l),x()||C(l)?h(l):p(l)&&w(l)}}},i=l=>{l.addEventListener("keyboardDidShow",u=>h(l,u)),l.addEventListener("keyboardDidHide",()=>w(l))},h=(l,u)=>{y(l,u),m=!0},w=l=>{O(l),m=!1},x=()=>!m&&e.width===o.width&&(e.height-o.height)*o.scale>150,C=l=>m&&!p(l),p=l=>m&&o.height===l.innerHeight,y=(l,u)=>{const b=new CustomEvent(a,{detail:{keyboardHeight:u?u.keyboardHeight:l.innerHeight-o.height}});l.dispatchEvent(b)},O=l=>{const u=new CustomEvent(s);l.dispatchEvent(u)},v=l=>{e=Object.assign({},o),o=E(l.visualViewport)},E=l=>({width:Math.round(l.width),height:Math.round(l.height),offsetTop:l.offsetTop,offsetLeft:l.offsetLeft,pageTop:l.pageTop,pageLeft:l.pageLeft,scale:l.scale})},4034:(P,_,r)=>{r.r(_),r.d(_,{MedicionesPageModule:()=>O});var f=r(2200),g=r(4341),c=r(7343),a=r(8132),s=r(467),t=r(3664),e=r(2615),o=r(7291),m=r(5032);function d(v,E){if(1&v){const l=t.RV6();t.j41(0,"ion-buttons",7)(1,"ion-button",8),t.bIt("click",function(){e.eBV(l);const M=t.XpG();return e.Njj(M.clearAll())}),t.nrm(2,"ion-icon",9),t.k0s()()}}function n(v,E){if(1&v&&(t.j41(0,"div",19),t.nrm(1,"ion-icon",28),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&v){const l=t.XpG().$implicit;t.R7$(3),t.JRh(l.location)}}function i(v,E){if(1&v&&(t.j41(0,"div",19),t.nrm(1,"ion-icon",29),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&v){const l=t.XpG().$implicit;t.R7$(3),t.SpI("",l.points.length," puntos")}}function h(v,E){if(1&v){const l=t.RV6();t.j41(0,"div",12)(1,"div",13)(2,"div",14),t.nrm(3,"ion-icon",15),t.j41(4,"span"),t.EFF(5),t.k0s()(),t.j41(6,"div",16),t.EFF(7),t.k0s()(),t.j41(8,"div",17),t.DNE(9,n,4,1,"div",18),t.j41(10,"div",19),t.nrm(11,"ion-icon",20),t.j41(12,"span",21),t.EFF(13),t.k0s()(),t.j41(14,"div",19),t.nrm(15,"ion-icon",22),t.j41(16,"span"),t.EFF(17),t.k0s()(),t.DNE(18,i,4,1,"div",18),t.k0s(),t.j41(19,"div",23)(20,"button",24),t.bIt("click",function(){const M=e.eBV(l).$implicit,b=t.XpG(2);return e.Njj(b.viewOnMap(M))}),t.nrm(21,"ion-icon",25),t.EFF(22," Ver en mapa "),t.k0s(),t.j41(23,"button",26),t.bIt("click",function(){const M=e.eBV(l).$implicit,b=t.XpG(2);return e.Njj(b.confirmDelete(M))}),t.nrm(24,"ion-icon",27),t.EFF(25," Eliminar "),t.k0s()()()}if(2&v){const l=E.$implicit,u=t.XpG(2);t.R7$(2),t.AVh("distance","distance"===l.type)("area","area"===l.type),t.R7$(),t.Y8G("name","distance"===l.type?"resize-outline":"square-outline"),t.R7$(2),t.JRh("distance"===l.type?"Distancia":"\xc1rea"),t.R7$(2),t.JRh(u.formatValue(l)),t.R7$(2),t.Y8G("ngIf",l.location),t.R7$(4),t.JRh(u.getCoords(l)),t.R7$(4),t.JRh(u.formatDate(l.createdAt)),t.R7$(),t.Y8G("ngIf",l.points)}}function w(v,E){if(1&v&&(t.j41(0,"div",10),t.DNE(1,h,26,11,"div",11),t.k0s()),2&v){const l=t.XpG();t.R7$(),t.Y8G("ngForOf",l.measurements)}}function x(v,E){if(1&v){const l=t.RV6();t.j41(0,"div",30)(1,"div",31),t.nrm(2,"ion-icon",32),t.k0s(),t.j41(3,"h3"),t.EFF(4,"Sin mediciones"),t.k0s(),t.j41(5,"p"),t.EFF(6,"Las mediciones que realices en el GeoVisor se guardar\xe1n aqu\xed autom\xe1ticamente."),t.k0s(),t.j41(7,"button",33),t.bIt("click",function(){e.eBV(l);const M=t.XpG();return e.Njj(M.goBack())}),t.nrm(8,"ion-icon",25),t.EFF(9," Ir al GeoVisor "),t.k0s()()}}const p=[{path:"",component:(()=>{var v;class E{constructor(u,M,b,D){this.storageService=u,this.alertCtrl=M,this.toastCtrl=b,this.navCtrl=D,this.measurements=[]}ngOnInit(){var u=this;return(0,s.A)(function*(){yield u.loadMeasurements()})()}ionViewWillEnter(){var u=this;return(0,s.A)(function*(){yield u.loadMeasurements()})()}loadMeasurements(){var u=this;return(0,s.A)(function*(){u.measurements=yield u.storageService.getMeasurements()})()}formatDate(u){return new Date(u).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}formatValue(u){return"distance"===u.type?u.value>=1e3?(u.value/1e3).toFixed(2)+" km":u.value.toFixed(2)+" m":u.value>=1e4?(u.value/1e4).toFixed(2)+" ha":u.value.toFixed(0)+" m\xb2"}getCoords(u){if(0===u.points.length)return"";const M=u.points[0];return`${M.lat.toFixed(4)}, ${M.lng.toFixed(4)}`}confirmDelete(u){var M=this;return(0,s.A)(function*(){yield(yield M.alertCtrl.create({header:"Eliminar medici\xf3n",message:`\xbfEliminar esta ${"distance"===u.type?"distancia":"\xe1rea"}?`,buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:()=>{setTimeout(()=>M.deleteMeasurement(u),100)}}]})).present()})()}deleteMeasurement(u){var M=this;return(0,s.A)(function*(){yield M.storageService.deleteMeasurement(u.id),yield M.loadMeasurements(),M.showToast("Medici\xf3n eliminada","success")})()}clearAll(){var u=this;return(0,s.A)(function*(){0!==u.measurements.length&&(yield(yield u.alertCtrl.create({header:"Eliminar todas",message:"\xbfEliminar todas las mediciones guardadas?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar todas",role:"destructive",handler:()=>{setTimeout((0,s.A)(function*(){yield u.storageService.clearMeasurements(),yield u.loadMeasurements(),u.showToast("Todas las mediciones eliminadas","success")}),100)}}]})).present())})()}viewOnMap(u){const M=u.points.reduce((D,k)=>D+k.lat,0)/u.points.length,b=u.points.reduce((D,k)=>D+k.lng,0)/u.points.length;localStorage.setItem("geovisor_lat",M.toString()),localStorage.setItem("geovisor_lon",b.toString()),localStorage.setItem("geovisor_mode","satellite"),this.navCtrl.navigateForward("/tabs/catastro")}goBack(){this.navCtrl.navigateBack("/tabs/catastro")}showToast(u,M){var b=this;return(0,s.A)(function*(){yield(yield b.toastCtrl.create({message:u,duration:2e3,position:"bottom",color:M})).present()})()}static#t=v=()=>(this.\u0275fac=function(M){return new(M||E)(t.rXU(o.n),t.rXU(c.hG),t.rXU(c.K_),t.rXU(m.q9))},this.\u0275cmp=t.VBU({type:E,selectors:[["app-mediciones"]],standalone:!1,decls:11,vars:3,consts:[["slot","start"],[3,"click"],["name","arrow-back-outline","slot","icon-only"],["slot","end",4,"ngIf"],[1,"mediciones-content"],["class","measurements-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["slot","end"],["color","danger",3,"click"],["name","trash-outline","slot","icon-only"],[1,"measurements-list"],["class","measurement-card",4,"ngFor","ngForOf"],[1,"measurement-card"],[1,"measurement-header"],[1,"measurement-type"],[3,"name"],[1,"measurement-value"],[1,"measurement-details"],["class","detail-row",4,"ngIf"],[1,"detail-row"],["name","navigate-outline"],[1,"coords"],["name","time-outline"],[1,"measurement-actions"],[1,"action-btn","view",3,"click"],["name","map-outline"],[1,"action-btn","delete",3,"click"],["name","trash-outline"],["name","location-outline"],["name","ellipse-outline"],[1,"empty-state"],[1,"empty-icon"],["name","analytics-outline"],[1,"btn-primary",3,"click"]],template:function(M,b){1&M&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),t.bIt("click",function(){return b.goBack()}),t.nrm(4,"ion-icon",2),t.k0s()(),t.j41(5,"ion-title"),t.EFF(6,"Mediciones"),t.k0s(),t.DNE(7,d,3,0,"ion-buttons",3),t.k0s()(),t.j41(8,"ion-content",4),t.DNE(9,w,2,1,"div",5)(10,x,10,0,"div",6),t.k0s()),2&M&&(t.R7$(7),t.Y8G("ngIf",b.measurements.length>0),t.R7$(2),t.Y8G("ngIf",b.measurements.length>0),t.R7$(),t.Y8G("ngIf",0===b.measurements.length))},dependencies:[f.Sq,f.bT,c.Jm,c.QW,c.W9,c.eU,c.iq,c.BC,c.ai],styles:["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #0a0a0f;--color: #f1f5f9;--border-color: rgba(255, 255, 255, .1)}.mediciones-content[_ngcontent-%COMP%]{--background: #0a0a0f;font-family:-apple-system,BlinkMacSystemFont,sans-serif}.measurements-list[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:16px}.measurement-card[_ngcontent-%COMP%]{background:#1e1e2db3;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:20px;box-shadow:0 0 20px #7c3aed4d,0 4px 24px #0006}.measurement-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid rgba(255,255,255,.1)}.measurement-type[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:8px 14px;border-radius:10px;font-size:13px;font-weight:600}.measurement-type[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.measurement-type.distance[_ngcontent-%COMP%]{background:#ef444433;color:#ef4444}.measurement-type.area[_ngcontent-%COMP%]{background:#3b82f633;color:#3b82f6}.measurement-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#f1f5f9;font-family:monospace}.measurement-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:16px}.detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:14px;color:#94a3b8}.detail-row[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#00d4ff;flex-shrink:0}.detail-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;line-height:1.4}.detail-row[_ngcontent-%COMP%]   span.coords[_ngcontent-%COMP%]{font-family:monospace;font-size:13px;color:#64748b}.measurement-actions[_ngcontent-%COMP%]{display:flex;gap:12px;padding-top:16px;border-top:1px solid rgba(255,255,255,.1)}.action-btn[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:8px;padding:14px;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease}.action-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.action-btn.view[_ngcontent-%COMP%]{background:#00d4ff33;color:#00d4ff}.action-btn.view[_ngcontent-%COMP%]:hover{background:#00d4ff4d}.action-btn.delete[_ngcontent-%COMP%]{background:#ef444433;color:#ef4444}.action-btn.delete[_ngcontent-%COMP%]:hover{background:#ef44444d}.action-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 40px;text-align:center;min-height:60vh}.empty-icon[_ngcontent-%COMP%]{width:100px;height:100px;background:#1e1e2db3;border-radius:30px;display:flex;align-items:center;justify-content:center;margin-bottom:24px;border:1px solid rgba(255,255,255,.1)}.empty-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;color:#f59e0b;opacity:.8}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:#f1f5f9;margin:0 0 12px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;color:#94a3b8;margin:0 0 32px;line-height:1.6;max-width:280px}.btn-primary[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;padding:16px 32px;background:linear-gradient(135deg,#00d4ff,#007f99);border:none;border-radius:14px;color:#0a0a0f;font-size:15px;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 0 20px #00d4ff4d,0 4px 24px #0006}.btn-primary[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]:active{transform:scale(.98)}"]}))}return v(),E})()}];let y=(()=>{var v;class E{static#t=v=()=>(this.\u0275fac=function(M){return new(M||E)},this.\u0275mod=t.$C({type:E}),this.\u0275inj=e.G2t({imports:[a.iI.forChild(p),a.iI]}))}return v(),E})(),O=(()=>{var v;class E{static#t=v=()=>(this.\u0275fac=function(M){return new(M||E)},this.\u0275mod=t.$C({type:E}),this.\u0275inj=e.G2t({imports:[f.MD,g.YN,c.bv,y]}))}return v(),E})()},4211:(P,_,r)=>{r.d(_,{w:()=>f});const f=(a,s,t)=>{if(typeof MutationObserver>"u")return;const e=new MutationObserver(o=>{t(g(o,s))});return e.observe(a,{childList:!0,subtree:!0}),e},g=(a,s)=>{let t;return a.forEach(e=>{for(let o=0;o<e.addedNodes.length;o++)t=c(e.addedNodes[o],s)||t}),t},c=(a,s)=>{if(1!==a.nodeType)return;const t=a;return(t.tagName===s.toUpperCase()?[t]:Array.from(t.querySelectorAll(s))).find(o=>o.value===t.value)}},4796:(P,_,r)=>{r.d(_,{u:()=>e});var f=r(467),g=r(4412),c=r(8141),a=r(8254),s=r(2615),t=r(3366);let e=(()=>{var o;class m{constructor(n){this.api=n,this.currentUserSubject=new g.t(null),this.currentUser$=this.currentUserSubject.asObservable(),this.loadStoredUser()}loadStoredUser(){var n=this;return(0,f.A)(function*(){const{value:i}=yield a.p.get({key:"user"});i&&n.currentUserSubject.next(JSON.parse(i))})()}login(n){return this.api.post("/auth/login",n).pipe((0,c.M)(i=>this.handleAuthResponse(i)))}register(n){return this.api.post("/auth/register",n).pipe((0,c.M)(i=>this.handleAuthResponse(i)))}logout(){var n=this;return(0,f.A)(function*(){yield a.p.remove({key:"token"}),yield a.p.remove({key:"refreshToken"}),yield a.p.remove({key:"user"}),localStorage.removeItem("token"),n.currentUserSubject.next(null)})()}refreshToken(){var n=this;return(0,f.A)(function*(){const{value:i}=yield a.p.get({key:"refreshToken"});if(!i)return null;try{const h=yield n.api.post("/auth/refresh",{refreshToken:i}).toPromise();return h?(yield n.handleAuthResponse(h),h):null}catch{return yield n.logout(),null}})()}handleAuthResponse(n){var i=this;return(0,f.A)(function*(){yield a.p.set({key:"token",value:n.token}),yield a.p.set({key:"refreshToken",value:n.refreshToken}),yield a.p.set({key:"user",value:JSON.stringify(n.user)}),localStorage.setItem("token",n.token),i.currentUserSubject.next(n.user)})()}get isAuthenticated(){return null!==this.currentUserSubject.value}get currentUser(){return this.currentUserSubject.value}static#t=o=()=>(this.\u0275fac=function(i){return new(i||m)(s.KVO(t.G))},this.\u0275prov=s.jDH({token:m,factory:m.\u0275fac,providedIn:"root"}))}return o(),m})()},5218:(P,_,r)=>{r.d(_,{c:()=>f});const f=g=>{const c=g.classList.contains("ion-touched"),a=g.classList.contains("ion-invalid");return c&&a}},6090:(P,_,r)=>{r.r(_),r.d(_,{startFocusVisible:()=>a});const f="ion-focused",c=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],a=s=>{let t=[],e=!0;const o=s?s.shadowRoot:document,m=s||document.body,d=C=>{t.forEach(p=>p.classList.remove(f)),C.forEach(p=>p.classList.add(f)),t=C},n=()=>{e=!1,d([])},i=C=>{e=c.includes(C.key),e||d([])},h=C=>{if(e&&void 0!==C.composedPath){const p=C.composedPath().filter(y=>!!y.classList&&y.classList.contains("ion-focusable"));d(p)}},w=()=>{o.activeElement===m&&d([])};return o.addEventListener("keydown",i),o.addEventListener("focusin",h),o.addEventListener("focusout",w),o.addEventListener("touchstart",n,{passive:!0}),o.addEventListener("mousedown",n),{destroy:()=>{o.removeEventListener("keydown",i),o.removeEventListener("focusin",h),o.removeEventListener("focusout",w),o.removeEventListener("touchstart",n),o.removeEventListener("mousedown",n)},setFocus:d}}},6763:(P,_,r)=>{r.r(_),r.d(_,{createSwipeBackGesture:()=>t});var f=r(4674),g=r(647),c=r(6011);r(5705),r(8607);const t=(e,o,m,d,n)=>{const i=e.ownerDocument.defaultView;let h=(0,g.i)(e);const x=v=>h?-v.deltaX:v.deltaX;return(0,c.createGesture)({el:e,gestureName:"goback-swipe",gesturePriority:101,threshold:10,canStart:v=>(h=(0,g.i)(e),(v=>{const{startX:l}=v;return h?l>=i.innerWidth-50:l<=50})(v)&&o()),onStart:m,onMove:v=>{const l=x(v)/i.innerWidth;d(l)},onEnd:v=>{const E=x(v),l=i.innerWidth,u=E/l,M=(v=>h?-v.velocityX:v.velocityX)(v),D=M>=0&&(M>.2||E>l/2),A=(D?1-u:u)*l;let I=0;if(A>5){const T=A/Math.abs(M);I=Math.min(T,540)}n(D,u<=0?.01:(0,f.e)(0,u,.9999),I)}})}},6780:(P,_,r)=>{r.d(_,{g:()=>g});var f=r(9596);const g=()=>{if(void 0!==f.w)return f.w.Capacitor}},7620:(P,_,r)=>{r.d(_,{c:()=>f,i:()=>g});const f=(c,a,s)=>"function"==typeof s?s(c,a):"string"==typeof s?c[s]===a[s]:Array.isArray(a)?a.includes(c):c===a,g=(c,a,s)=>void 0!==c&&(Array.isArray(c)?c.some(t=>f(t,a,s)):f(c,a,s))},7764:(P,_,r)=>{r.d(_,{S:()=>g});const g={bubbles:{dur:1e3,circles:9,fn:(c,a,s)=>{const t=c*a/s-c+"ms",e=2*Math.PI*a/s;return{r:5,style:{top:32*Math.sin(e)+"%",left:32*Math.cos(e)+"%","animation-delay":t}}}},circles:{dur:1e3,circles:8,fn:(c,a,s)=>{const t=a/s,e=c*t-c+"ms",o=2*Math.PI*t;return{r:5,style:{top:32*Math.sin(o)+"%",left:32*Math.cos(o)+"%","animation-delay":e}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(c,a)=>({r:6,style:{left:32-32*a+"%","animation-delay":-110*a+"ms"}})},lines:{dur:1e3,lines:8,fn:(c,a,s)=>({y1:14,y2:26,style:{transform:`rotate(${360/s*a+(a<s/2?180:-180)}deg)`,"animation-delay":c*a/s-c+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(c,a,s)=>({y1:12,y2:20,style:{transform:`rotate(${360/s*a+(a<s/2?180:-180)}deg)`,"animation-delay":c*a/s-c+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(c,a,s)=>({y1:17,y2:29,style:{transform:`rotate(${30*a+(a<6?180:-180)}deg)`,"animation-delay":c*a/s-c+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(c,a,s)=>({y1:12,y2:20,style:{transform:`rotate(${30*a+(a<6?180:-180)}deg)`,"animation-delay":c*a/s-c+"ms"}})}}},7930:(P,_,r)=>{r.d(_,{c:()=>g});var f=r(467);const g=()=>{let c;return{lock:function(){var s=(0,f.A)(function*(){const t=c;let e;return c=new Promise(o=>e=o),void 0!==t&&(yield t),e});return function(){return s.apply(this,arguments)}}()}}},9043:(P,_,r)=>{r.d(_,{K:()=>a,a:()=>c});var f=r(6780),g=function(s){return s.Unimplemented="UNIMPLEMENTED",s.Unavailable="UNAVAILABLE",s}(g||{}),c=function(s){return s.Body="body",s.Ionic="ionic",s.Native="native",s.None="none",s}(c||{});const a={getEngine(){const s=(0,f.g)();if(s?.isPluginAvailable("Keyboard"))return s.Plugins.Keyboard},getResizeMode(){const s=this.getEngine();return s?.getResizeMode?s.getResizeMode().catch(t=>{if(t.code!==g.Unimplemented)throw t}):Promise.resolve(void 0)}}},9166:(P,_,r)=>{r.d(_,{g:()=>f});const f=(t,e,o,m,d)=>c(t[1],e[1],o[1],m[1],d).map(n=>g(t[0],e[0],o[0],m[0],n)),g=(t,e,o,m,d)=>d*(3*e*Math.pow(d-1,2)+d*(-3*o*d+3*o+m*d))-t*Math.pow(d-1,3),c=(t,e,o,m,d)=>s((m-=d)-3*(o-=d)+3*(e-=d)-(t-=d),3*o-6*e+3*t,3*e-3*t,t).filter(i=>i>=0&&i<=1),s=(t,e,o,m)=>{if(0===t)return((t,e,o)=>{const m=e*e-4*t*o;return m<0?[]:[(-e+Math.sqrt(m))/(2*t),(-e-Math.sqrt(m))/(2*t)]})(e,o,m);const d=(3*(o/=t)-(e/=t)*e)/3,n=(2*e*e*e-9*e*o+27*(m/=t))/27;if(0===d)return[Math.pow(-n,1/3)];if(0===n)return[Math.sqrt(-d),-Math.sqrt(-d)];const i=Math.pow(n/2,2)+Math.pow(d/3,3);if(0===i)return[Math.pow(n/2,.5)-e/3];if(i>0)return[Math.pow(-n/2+Math.sqrt(i),1/3)-Math.pow(n/2+Math.sqrt(i),1/3)-e/3];const h=Math.sqrt(Math.pow(-d/3,3)),w=Math.acos(-n/(2*Math.sqrt(Math.pow(-d/3,3)))),x=2*Math.pow(h,1/3);return[x*Math.cos(w/3)-e/3,x*Math.cos((w+2*Math.PI)/3)-e/3,x*Math.cos((w+4*Math.PI)/3)-e/3]}},9225:(P,_,r)=>{r.d(_,{a:()=>f,b:()=>h,c:()=>e,d:()=>w,e:()=>b,f:()=>t,g:()=>x,h:()=>g,i:()=>c,j:()=>l,k:()=>u,l:()=>o,m:()=>n,n:()=>C,o:()=>s,p:()=>d,q:()=>a,r:()=>E,s:()=>M,t:()=>i,u:()=>O,v:()=>v,w:()=>m,x:()=>y,y:()=>p});const f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M244 400 100 256l144-144M120 256h292' stroke-linecap='square' stroke-miterlimit='10' stroke-width='48px' class='ionicon-fill-none'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='m112 268 144 144 144-144M256 392V100' stroke-linecap='round' stroke-linejoin='round' stroke-width='48px' class='ionicon-fill-none'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M368 64 144 256l224 192z'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='m64 144 192 224 192-224z'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M448 368 256 144 64 368z'/></svg>",t="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M416 128 192 384l-96-96' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M328 112 184 256l144 144' stroke-linecap='round' stroke-linejoin='round' stroke-width='48px' class='ionicon-fill-none'/></svg>",o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='m112 184 144 144 144-144' stroke-linecap='round' stroke-linejoin='round' stroke-width='48px' class='ionicon-fill-none'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='m136 208 120-104 120 104M136 304l120 104 120-104' class='ionicon-fill-none'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='m184 112 144 144-144 144' stroke-linecap='round' stroke-linejoin='round' stroke-width='48px' class='ionicon-fill-none'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='m184 112 144 144-144 144' stroke-linecap='round' stroke-linejoin='round' stroke-width='48px' class='ionicon-fill-none'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34Z'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48m75.31 260.69a16 16 0 1 1-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 0 1-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0 1 22.62-22.62L256 233.37l52.69-52.68a16 16 0 0 1 22.62 22.62L278.63 256Z'/></svg>",w="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256z'/></svg>",x="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",C="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><circle cx='256' cy='256' r='64'/><path d='M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 0 0-.1-34.76M256 352a96 96 0 1 1 96-96 96.11 96.11 0 0 1-96 96'/></svg>",y="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448M248 315.85l-51.79-51.79a2 2 0 0 0-3.39 1.69 64.11 64.11 0 0 0 53.49 53.49 2 2 0 0 0 1.69-3.39M264 196.15 315.87 248a2 2 0 0 0 3.4-1.69 64.13 64.13 0 0 0-53.55-53.55 2 2 0 0 0-1.72 3.39'/><path d='M491 273.36a32.2 32.2 0 0 0-.1-34.76c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.68 96a226.5 226.5 0 0 0-71.82 11.79 4 4 0 0 0-1.56 6.63l47.24 47.24a4 4 0 0 0 3.82 1.05 96 96 0 0 1 116 116 4 4 0 0 0 1.05 3.81l67.95 68a4 4 0 0 0 5.4.24 343.8 343.8 0 0 0 67.24-77.4M256 352a96 96 0 0 1-93.3-118.63 4 4 0 0 0-1.05-3.81l-66.84-66.87a4 4 0 0 0-5.41-.23c-24.39 20.81-47 46.13-67.67 75.72a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.39 76.14 98.28 100.65C162.06 402 207.92 416 255.68 416a238.2 238.2 0 0 0 72.64-11.55 4 4 0 0 0 1.61-6.64l-47.47-47.46a4 4 0 0 0-3.81-1.05A96 96 0 0 1 256 352'/></svg>",O="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M80 160h352M80 256h352M80 352h352' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M64 384h384v-42.67H64Zm0-106.67h384v-42.66H64ZM64 128v42.67h384V128Z'/></svg>",E="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M400 256H112' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M96 256h320M96 176h320M96 336h320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M118 304h276M118 208h276' stroke-linecap='square' stroke-linejoin='round' stroke-width='44px' class='ionicon-fill-none'/></svg>",M="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M221.09 64a157.09 157.09 0 1 0 157.09 157.09A157.1 157.1 0 0 0 221.09 64Z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M338.29 338.29 448 448' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",b="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M464 428 339.92 303.9a160.48 160.48 0 0 0 30.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0 0 94.58-30.72L428 464ZM209.32 319.69a110.38 110.38 0 1 1 110.37-110.37 110.5 110.5 0 0 1-110.37 110.37'/></svg>"},9401:(P,_,r)=>{r.d(_,{c:()=>c});var f=r(9596),g=r(4674);const c=(a,s,t)=>{let e;const o=()=>!(void 0===s()||void 0!==a.label||null===t()),d=()=>{const i=s();if(void 0===i)return;if(!o())return void i.style.removeProperty("width");const h=t().scrollWidth;if(0===h&&null===i.offsetParent&&void 0!==f.w&&"IntersectionObserver"in f.w){if(void 0!==e)return;const w=e=new IntersectionObserver(x=>{1===x[0].intersectionRatio&&(d(),w.disconnect(),e=void 0)},{threshold:.01,root:a});return void w.observe(i)}i.style.setProperty("width",.75*h+"px")};return{calculateNotchWidth:()=>{o()&&(0,g.r)(()=>{d()})},destroy:()=>{e&&(e.disconnect(),e=void 0)}}}}}]);