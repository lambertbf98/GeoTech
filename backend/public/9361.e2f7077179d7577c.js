"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9361],{772:(w,k,l)=>{l.d(k,{o:()=>e});var M=l(467),O=l(4843),h=l(2615),E=l(3366),b=l(9473);let e=(()=>{var u;class x{constructor(o,a){this.api=o,this.cameraService=a}analyzeImage(o){var a=this;return(0,M.A)(function*(){try{let n;if(o.startsWith("data:image"))n=o;else if(o.startsWith("blob:")||o.startsWith("http")){const y=yield(yield fetch(o)).blob();n=yield a.blobToBase64(y)}else try{n=`data:image/jpeg;base64,${yield a.cameraService.getPhotoBase64(o)}`}catch{throw new Error("NO_IMAGE_ACCESS")}return(yield(0,O._)(a.api.post("/claude/analyze",{imageBase64:n}))).description}catch(n){throw console.error("Error analyzing image:",n),"NO_IMAGE_ACCESS"===n.message?new Error("No se puede acceder a la imagen"):503===n.status?new Error("IA no configurada en el servidor"):0===n.status?new Error("Sin conexi\xf3n al servidor"):new Error(n.error?.error?.message||"Error al analizar imagen")}})()}blobToBase64(o){return new Promise((a,n)=>{const p=new FileReader;p.onerror=n,p.onload=()=>{a(p.result)},p.readAsDataURL(o)})}describePhoto(o){return this.api.post("/claude/describe",{photoId:o})}describePhotoWithContext(o,a){return this.api.post("/claude/describe",{photoId:o,context:a})}getAnalysisTypes(){return[{id:"general",name:"Descripcion General",prompt:"Describe esta imagen de manera tecnica y profesional."},{id:"terrain",name:"Analisis de Terreno",prompt:"Analiza el terreno visible en esta imagen: tipo de suelo, pendiente, vegetacion, posibles riesgos geologicos."},{id:"structure",name:"Estado de Estructura",prompt:"Evalua el estado de la estructura visible: materiales, posibles danos, conservacion general."},{id:"hydrology",name:"Analisis Hidrologico",prompt:"Analiza los elementos hidrologicos visibles: cauces, drenajes, posibles zonas de inundacion, estado del agua."},{id:"access",name:"Accesibilidad",prompt:"Describe la accesibilidad de la zona: vias de acceso, estado del firme, posibles obstaculos."},{id:"environmental",name:"Impacto Ambiental",prompt:"Identifica elementos relevantes para un estudio de impacto ambiental: vegetacion, fauna, elementos protegidos."}]}generateProjectReport(o){var a=this;return(0,M.A)(function*(){try{const n=a.buildReportPrompt(o);return yield(0,O._)(a.api.post("/claude/generate-report",{prompt:n,projectData:o}))}catch(n){return console.error("Error generating report:",n),a.generateLocalReport(o)}})()}buildReportPrompt(o){let a=`Eres un ingeniero civil especialista en an\xe1lisis de terrenos, viales, caminos rurales y obras de infraestructura.\nTu tarea es generar un informe t\xe9cnico profesional de visita a campo.\n\nPROYECTO: ${o.projectName}\nUBICACI\xd3N: ${o.projectLocation||"No especificada"}\n\n`;return o.zones&&o.zones.length>0&&(a+="\nZONAS DE ESTUDIO IDENTIFICADAS:\n",o.zones.forEach((n,p)=>{a+=`- ${n.name}${n.description?": "+n.description:""}\n`})),o.paths&&o.paths.length>0&&(a+="\nVIALES/CAMINOS ANALIZADOS:\n",o.paths.forEach((n,p)=>{a+=`- ${n.name}${n.description?": "+n.description:""}\n`})),o.photos&&o.photos.length>0&&(a+=`\nDOCUMENTACI\xd3N FOTOGR\xc1FICA (${o.photos.length} fotos):\n`,o.photos.forEach((n,p)=>{a+=`Foto ${p+1}:\n`,n.location&&(a+=`  - Ubicaci\xf3n: ${n.location}\n`),n.aiDescription&&(a+=`  - An\xe1lisis: ${n.aiDescription}\n`),n.description&&(a+=`  - Notas: ${n.description}\n`)})),o.measurements&&o.measurements.length>0&&(a+="\nMEDICIONES REALIZADAS:\n",o.measurements.forEach((n,p)=>{const _="distance"===n.type?"m":"m\xb2";a+=`- ${"distance"===n.type?"Distancia":"\xc1rea"}: ${n.value.toFixed(2)} ${_}${n.location?" en "+n.location:""}\n`})),a+="\nINSTRUCCIONES:\n1. Genera un RESUMEN EJECUTIVO (2-3 p\xe1rrafos) que sintetice:\n   - Estado general de los viales/caminos analizados\n   - Principales observaciones t\xe9cnicas\n   - Recomendaciones de actuaci\xf3n si las hubiera\n\n2. El resumen debe ser profesional, t\xe9cnico y conciso.\n3. Usa terminolog\xeda de ingenier\xeda civil.\n4. Si hay problemas identificados (drenaje, anchura, estado del firme, etc.), menci\xf3nalos claramente.\n\nResponde SOLO con el resumen, sin encabezados ni formatos adicionales.",a}generateLocalReport(o){let a=`Informe de visita t\xe9cnica al proyecto "${o.projectName}"`;if(o.projectLocation&&(a+=` ubicado en ${o.projectLocation}`),a+=".\n\n",o.paths&&o.paths.length>0&&(a+=`Se han analizado ${o.paths.length} vial(es): ${o.paths.map(n=>n.name).join(", ")}. `),o.zones&&o.zones.length>0&&(a+=`Se han delimitado ${o.zones.length} zona(s) de estudio: ${o.zones.map(n=>n.name).join(", ")}. `),o.photos&&o.photos.length>0){a+=`Se ha realizado documentaci\xf3n fotogr\xe1fica con ${o.photos.length} fotograf\xeda(s) georreferenciada(s). `;const n=o.photos.filter(p=>p.aiDescription);n.length>0&&(a+="\n\nObservaciones principales:\n",n.slice(0,3).forEach((p,_)=>{a+=`- ${p.aiDescription}\n`}))}if(o.measurements&&o.measurements.length>0){const n=o.measurements.filter(_=>"distance"===_.type),p=o.measurements.filter(_=>"area"===_.type);if(n.length>0||p.length>0){if(a+="\n\nMediciones realizadas: ",n.length>0){const _=n.reduce((y,j)=>y+j.value,0);a+=`${n.length} mediciones de distancia (total: ${_.toFixed(2)} m). `}if(p.length>0){const _=p.reduce((y,j)=>y+j.value,0);a+=`${p.length} mediciones de \xe1rea (total: ${_.toFixed(0)} m\xb2).`}}}return{summary:a,photoDescriptions:o.photos?.map(n=>n.aiDescription||n.description||"")||[]}}static#e=u=()=>(this.\u0275fac=function(a){return new(a||x)(h.KVO(E.G),h.KVO(b.j))},this.\u0275prov=h.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}))}return u(),x})()},9361:(w,k,l)=>{l.r(k),l.d(k,{CameraPageModule:()=>Y});var M=l(2200),O=l(4341),h=l(7343),E=l(8132),b=l(467),e=l(3664),u=l(2615),x=l(9473),A=l(2092),o=l(7291),a=l(772),n=l(5032),p=l(9330);function _(i,s){if(1&i&&(e.j41(0,"ion-select-option",11),e.EFF(1),e.k0s()),2&i){const c=s.$implicit;e.Y8G("value",c.id),e.R7$(),e.JRh(c.name)}}function y(i,s){if(1&i){const c=e.RV6();e.j41(0,"div",12),e.nrm(1,"img",13),e.j41(2,"ion-button",14),e.bIt("click",function(){u.eBV(c);const r=e.XpG();return u.Njj(r.clearPhoto())}),e.nrm(3,"ion-icon",15),e.k0s()()}if(2&i){const c=e.XpG();e.R7$(),e.Y8G("src",c.currentPhoto.imagePath,e.B4B)}}function j(i,s){if(1&i){const c=e.RV6();e.j41(0,"div",16)(1,"div",17),e.bIt("click",function(){u.eBV(c);const r=e.XpG();return u.Njj(r.takePhoto())}),e.j41(2,"div",18),e.nrm(3,"ion-icon",19),e.k0s(),e.j41(4,"p"),e.EFF(5,"Tomar foto"),e.k0s()(),e.j41(6,"div",20),e.bIt("click",function(){u.eBV(c);const r=e.XpG();return u.Njj(r.importPhoto())}),e.j41(7,"div",18),e.nrm(8,"ion-icon",21),e.k0s(),e.j41(9,"p"),e.EFF(10,"Importar foto"),e.k0s()()()}}function G(i,s){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const c=e.XpG(3);e.R7$(),e.SpI("Alt: ",null==c.currentPhoto.altitude?null:c.currentPhoto.altitude.toFixed(1),"m")}}function R(i,s){if(1&i&&(e.j41(0,"div",36)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s(),e.DNE(5,G,2,1,"span",37),e.k0s()),2&i){const c=e.XpG(2);e.R7$(2),e.SpI("Lat: ",null==c.currentPhoto.latitude?null:c.currentPhoto.latitude.toFixed(6)),e.R7$(2),e.SpI("Lon: ",null==c.currentPhoto.longitude?null:c.currentPhoto.longitude.toFixed(6)),e.R7$(),e.Y8G("ngIf",c.currentPhoto.altitude)}}function D(i,s){1&i&&(e.j41(0,"div",36)(1,"span",38),e.EFF(2,"Sin coordenadas GPS"),e.k0s()())}function T(i,s){if(1&i&&(e.j41(0,"div",23)(1,"div",24),e.nrm(2,"ion-icon",39),e.j41(3,"span"),e.EFF(4,"Descripcion IA"),e.k0s()(),e.j41(5,"p",40),e.EFF(6),e.k0s()()),2&i){const c=e.XpG(2);e.R7$(6),e.JRh(c.currentPhoto.aiDescription)}}function $(i,s){if(1&i&&(e.j41(0,"div",41)(1,"div",24),e.nrm(2,"ion-icon",42),e.j41(3,"span"),e.EFF(4,"Mis notas"),e.k0s()(),e.j41(5,"p",43),e.EFF(6),e.k0s()()),2&i){const c=e.XpG(2);e.R7$(6),e.JRh(c.currentPhoto.notes)}}function N(i,s){if(1&i){const c=e.RV6();e.j41(0,"ion-button",44),e.bIt("click",function(){u.eBV(c);const r=e.XpG(2);return u.Njj(r.openCatastroMap())}),e.nrm(1,"ion-icon",45),e.EFF(2," Ver Mapa Catastro "),e.k0s()}}function z(i,s){if(1&i){const c=e.RV6();e.j41(0,"ion-button",46),e.bIt("click",function(){u.eBV(c);const r=e.XpG(2);return u.Njj(r.openGoogleMaps())}),e.nrm(1,"ion-icon",47),e.EFF(2," Google Maps Satelite "),e.k0s()}}function B(i,s){if(1&i){const c=e.RV6();e.j41(0,"ion-button",48),e.bIt("click",function(){u.eBV(c);const r=e.XpG(2);return u.Njj(r.openGoogleEarth())}),e.nrm(1,"ion-icon",49),e.EFF(2," Google Earth "),e.k0s()}}function U(i,s){if(1&i){const c=e.RV6();e.j41(0,"ion-button",50),e.bIt("click",function(){u.eBV(c);const r=e.XpG(2);return u.Njj(r.getAIDescription())}),e.nrm(1,"ion-icon",51),e.EFF(2," Analizar con IA "),e.k0s()}}function V(i,s){if(1&i){const c=e.RV6();e.j41(0,"div",22)(1,"div",23)(2,"div",24),e.nrm(3,"ion-icon",25),e.j41(4,"span"),e.EFF(5,"Coordenadas GPS"),e.k0s()(),e.DNE(6,R,6,3,"div",26)(7,D,3,0,"div",26),e.k0s(),e.DNE(8,T,7,1,"div",27)(9,$,7,1,"div",28),e.j41(10,"div",29),e.DNE(11,N,3,0,"ion-button",30)(12,z,3,0,"ion-button",31)(13,B,3,0,"ion-button",32)(14,U,3,0,"ion-button",33),e.j41(15,"ion-button",34),e.bIt("click",function(){u.eBV(c);const r=e.XpG();return u.Njj(r.addNotes())}),e.nrm(16,"ion-icon",35),e.EFF(17," Agregar notas "),e.k0s()()()}if(2&i){const c=e.XpG();e.R7$(6),e.Y8G("ngIf",c.currentPhoto.latitude),e.R7$(),e.Y8G("ngIf",!c.currentPhoto.latitude),e.R7$(),e.Y8G("ngIf",c.currentPhoto.aiDescription),e.R7$(),e.Y8G("ngIf",c.currentPhoto.notes),e.R7$(2),e.Y8G("ngIf",c.currentPhoto.latitude),e.R7$(),e.Y8G("ngIf",c.currentPhoto.latitude),e.R7$(),e.Y8G("ngIf",c.currentPhoto.latitude),e.R7$(),e.Y8G("ngIf",!c.currentPhoto.aiDescription)}}const X=[{path:"",component:(()=>{var i;class s{constructor(t,r,d,g,m,f,v,P){this.cameraService=t,this.gpsService=r,this.storageService=d,this.claudeService=g,this.toastCtrl=m,this.alertCtrl=f,this.navCtrl=v,this.http=P,this.currentPhoto=null,this.projects=[],this.selectedProjectId="",this.isProcessing=!1,this.gpsStatus="Sin ubicacion"}ngOnInit(){var t=this;return(0,b.A)(function*(){t.projects=yield t.storageService.getProjects(),t.projects.length>0&&(t.selectedProjectId=t.projects[0].id)})()}takePhoto(){var t=this;return(0,b.A)(function*(){if(t.selectedProjectId)try{const r=yield t.cameraService.takePhoto();let m,f,d=0,g=0,v="";try{const P=yield Promise.race([t.gpsService.getCurrentPosition(),new Promise((F,S)=>setTimeout(()=>S(new Error("timeout")),5e3))]);d=P.latitude,g=P.longitude,m=P.altitude,f=P.accuracy,t.gpsStatus="GPS: "+d.toFixed(6)+", "+g.toFixed(6),v=yield t.getLocationName(d,g)}catch{t.gpsStatus="GPS no disponible"}t.currentPhoto={id:"photo_"+Date.now(),projectId:t.selectedProjectId,imagePath:r.webPath||r.webviewPath||"",latitude:d,longitude:g,altitude:m,accuracy:f,location:v,timestamp:(new Date).toISOString(),synced:!1},yield t.storageService.addPhoto(t.currentPhoto)}catch(r){t.showToast(r.message||"Error","danger")}else t.showToast("Selecciona un proyecto primero","warning")})()}importPhoto(){var t=this;return(0,b.A)(function*(){if(!t.selectedProjectId)return void t.showToast("Selecciona un proyecto primero","warning");const r=document.createElement("input");r.type="file",r.accept="image/*",r.onchange=function(){var d=(0,b.A)(function*(g){const m=g.target.files?.[0];if(m){t.isProcessing=!0;try{let P,F,f=0,v=0,S="";try{const I=yield(yield l.e(3587).then(l.bind(l,3587))).gps(m);I&&I.latitude&&I.longitude&&(f=I.latitude,v=I.longitude,t.gpsStatus="EXIF: "+f.toFixed(6)+", "+v.toFixed(6))}catch(C){console.log("EXIF error:",C)}if(!f||!v)try{const C=yield Promise.race([t.gpsService.getCurrentPosition(),new Promise((I,K)=>setTimeout(()=>K(new Error("timeout")),8e3))]);f=C.latitude,v=C.longitude,P=C.altitude,F=C.accuracy,t.gpsStatus="GPS: "+f.toFixed(6)+", "+v.toFixed(6)}catch{t.gpsStatus="Sin coordenadas GPS"}f&&v&&(S=yield t.getLocationName(f,v));const W=yield t.fileToBase64(m);t.currentPhoto={id:"photo_"+Date.now(),projectId:t.selectedProjectId,imagePath:W,latitude:f,longitude:v,altitude:P,accuracy:F,location:S,timestamp:(new Date).toISOString(),synced:!1},yield t.storageService.addPhoto(t.currentPhoto)}catch(f){t.showToast(f.message||"Error","danger")}t.isProcessing=!1}});return function(g){return d.apply(this,arguments)}}(),r.click()})()}fileToBase64(t){return new Promise((r,d)=>{const g=new FileReader;g.onload=()=>r(g.result),g.onerror=d,g.readAsDataURL(t)})}openInGeoVisor(t="map"){this.currentPhoto?.latitude&&this.currentPhoto?.longitude?(localStorage.setItem("geovisor_lat",this.currentPhoto.latitude.toString()),localStorage.setItem("geovisor_lon",this.currentPhoto.longitude.toString()),localStorage.setItem("geovisor_mode",t),this.navCtrl.navigateForward("/tabs/catastro")):this.showToast("No hay coordenadas GPS","warning")}openCatastroMap(){this.openInGeoVisor("satellite")}openGoogleMaps(){this.openInGeoVisor("map")}openGoogleEarth(){this.openInGeoVisor("earth")}getAIDescription(){var t=this;return(0,b.A)(function*(){if(t.currentPhoto?.imagePath){t.isProcessing=!0;try{const r=yield t.claudeService.analyzeImage(t.currentPhoto.imagePath);t.currentPhoto.aiDescription=r,yield t.storageService.updatePhoto(t.currentPhoto)}catch(r){t.showToast(r.message||"Error IA","danger")}t.isProcessing=!1}})()}getLocationName(t,r){var d=this;return(0,b.A)(function*(){try{const g=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${r}&zoom=18`,m=yield d.http.get(g).toPromise();if(m?.display_name)return m.display_name.split(",").slice(0,3).join(",").trim()}catch(g){console.log("Geocoding error:",g)}return""})()}addNotes(){var t=this;return(0,b.A)(function*(){var d;yield(yield t.alertCtrl.create({header:"Notas",inputs:[{name:"notes",type:"textarea",placeholder:"Notas...",value:t.currentPhoto?.notes||""}],buttons:[{text:"Cancelar",role:"cancel"},{text:"OK",handler:(d=(0,b.A)(function*(g){t.currentPhoto&&(t.currentPhoto.notes=g.notes,yield t.storageService.updatePhoto(t.currentPhoto))}),function(m){return d.apply(this,arguments)})}]})).present()})()}clearPhoto(){this.currentPhoto=null,this.gpsStatus="Sin ubicacion"}showToast(t,r){var d=this;return(0,b.A)(function*(){yield(yield d.toastCtrl.create({message:t,duration:2500,position:"bottom",color:r})).present()})()}static#e=i=()=>(this.\u0275fac=function(r){return new(r||s)(e.rXU(x.j),e.rXU(A.a),e.rXU(o.n),e.rXU(a.o),e.rXU(h.K_),e.rXU(h.hG),e.rXU(n.q9),e.rXU(p.Qq))},this.\u0275cmp=e.VBU({type:s,selectors:[["app-camera"]],standalone:!1,decls:18,vars:6,consts:[[1,"camera-content"],[1,"project-selector"],[1,"geotech-label"],["interface","action-sheet","placeholder","Seleccionar proyecto",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"gps-status"],["name","location"],[1,"photo-area"],["class","photo-preview",4,"ngIf"],["class","capture-buttons",4,"ngIf"],["class","photo-info",4,"ngIf"],[3,"value"],[1,"photo-preview"],["alt","Foto capturada",3,"src"],["fill","clear",1,"clear-btn",3,"click"],["name","close-circle","slot","icon-only"],[1,"capture-buttons"],[1,"capture-area",3,"click"],[1,"capture-icon"],["name","camera"],[1,"capture-area","import",3,"click"],["name","images"],[1,"photo-info"],[1,"info-card"],[1,"info-header"],["name","navigate-outline"],["class","coords",4,"ngIf"],["class","info-card",4,"ngIf"],["class","info-card notes-card",4,"ngIf"],[1,"action-buttons"],["expand","block",3,"click",4,"ngIf"],["expand","block","color","success",3,"click",4,"ngIf"],["expand","block","color","tertiary",3,"click",4,"ngIf"],["expand","block","color","secondary",3,"click",4,"ngIf"],["expand","block","fill","outline",3,"click"],["name","create-outline","slot","start"],[1,"coords"],[4,"ngIf"],[1,"no-gps"],["name","sparkles-outline"],[1,"ai-description"],[1,"info-card","notes-card"],["name","document-text-outline"],[1,"user-notes"],["expand","block",3,"click"],["name","map-outline","slot","start"],["expand","block","color","success",3,"click"],["name","globe-outline","slot","start"],["expand","block","color","tertiary",3,"click"],["name","earth-outline","slot","start"],["expand","block","color","secondary",3,"click"],["name","sparkles-outline","slot","start"]],template:function(r,d){1&r&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Registro"),e.k0s()()(),e.j41(4,"ion-content",0)(5,"div",1)(6,"label",2),e.EFF(7,"Proyecto activo"),e.k0s(),e.j41(8,"ion-select",3),e.mxI("ngModelChange",function(m){return e.DH7(d.selectedProjectId,m)||(d.selectedProjectId=m),m}),e.DNE(9,_,2,2,"ion-select-option",4),e.k0s()(),e.j41(10,"div",5),e.nrm(11,"ion-icon",6),e.j41(12,"span"),e.EFF(13),e.k0s()(),e.j41(14,"div",7),e.DNE(15,y,4,1,"div",8)(16,j,11,0,"div",9),e.k0s(),e.DNE(17,V,18,8,"div",10),e.k0s()),2&r&&(e.R7$(8),e.R50("ngModel",d.selectedProjectId),e.R7$(),e.Y8G("ngForOf",d.projects),e.R7$(4),e.JRh(d.gpsStatus),e.R7$(2),e.Y8G("ngIf",d.currentPhoto),e.R7$(),e.Y8G("ngIf",!d.currentPhoto),e.R7$(),e.Y8G("ngIf",d.currentPhoto))},dependencies:[M.Sq,M.bT,O.BC,O.vS,h.Jm,h.W9,h.eU,h.iq,h.Nm,h.Ip,h.BC,h.ai,h.Je],styles:[".camera-content[_ngcontent-%COMP%]{--background: var(--geotech-bg-dark)}.project-selector[_ngcontent-%COMP%]{padding:20px;background:transparent}.project-selector[_ngcontent-%COMP%]   .geotech-label[_ngcontent-%COMP%]{color:var(--geotech-accent-cyan);font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;margin-bottom:8px;display:block}.project-selector[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{width:100%;--background: transparent !important;--placeholder-color: var(--geotech-text-muted);color:var(--geotech-text-primary)!important;border:none!important;border-radius:0!important;padding:8px 0!important;font-weight:600;font-size:20px;box-shadow:none!important;--highlight-color-focused: transparent;--ripple-color: transparent}.project-selector[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent !important;--border-color: transparent !important;--inner-border-width: 0 !important;--padding-start: 0 !important;--inner-padding-end: 0 !important}.gps-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;padding:14px 20px;background:var(--geotech-bg-glass);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid var(--geotech-border-glass);color:var(--geotech-accent-cyan);font-size:13px;font-weight:600}.gps-status[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;filter:drop-shadow(0 0 6px var(--geotech-accent-cyan))}.photo-area[_ngcontent-%COMP%]{padding:20px}.capture-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.capture-area[_ngcontent-%COMP%]{aspect-ratio:1;background:var(--geotech-bg-glass);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:2px dashed var(--geotech-border-glass);border-radius:var(--geotech-radius-xl);display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.capture-area[_ngcontent-%COMP%]:hover{border-color:var(--geotech-accent-cyan);background:#00d4ff0d}.capture-area[_ngcontent-%COMP%]:active{transform:scale(.98);border-color:var(--geotech-accent-cyan);box-shadow:var(--geotech-glow-cyan)}.capture-area.import[_ngcontent-%COMP%]   .capture-icon[_ngcontent-%COMP%]{background:#7c3aed33}.capture-area.import[_ngcontent-%COMP%]   .capture-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--geotech-accent-purple)}.capture-area.import[_ngcontent-%COMP%]:hover{border-color:var(--geotech-accent-purple);background:#7c3aed0d}.capture-area.import[_ngcontent-%COMP%]:active{box-shadow:var(--geotech-glow-purple)}.capture-icon[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:50%;background:#00d4ff26;display:flex;align-items:center;justify-content:center;margin-bottom:16px;transition:all .3s ease}.capture-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:36px;color:var(--geotech-accent-cyan)}.capture-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--geotech-text-secondary);font-size:14px;font-weight:600;margin:0}.photo-preview[_ngcontent-%COMP%]{position:relative;border-radius:var(--geotech-radius-xl);overflow:hidden;box-shadow:var(--geotech-shadow-lg);border:1px solid var(--geotech-border-glass)}.photo-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block}.photo-preview[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;--color: #fff;--background: rgba(239, 68, 68, .8);--border-radius: 50%;width:40px;height:40px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.photo-info[_ngcontent-%COMP%]{padding:0 20px 20px}.info-card[_ngcontent-%COMP%]{background:var(--geotech-bg-glass);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--geotech-border-glass);border-radius:var(--geotech-radius-lg);padding:20px;margin-bottom:16px}.info-card[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:14px;font-weight:700;font-size:.9rem;color:var(--geotech-text-primary)}.info-card[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--geotech-accent-cyan);font-size:22px}.info-card[_ngcontent-%COMP%]   .coords[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;font-family:SF Mono,Menlo,monospace;font-size:13px;color:var(--geotech-accent-cyan);background:#00d4ff1a;padding:12px 16px;border-radius:var(--geotech-radius-sm);border:1px solid rgba(0,212,255,.2)}.info-card[_ngcontent-%COMP%]   .no-gps[_ngcontent-%COMP%]{color:var(--geotech-accent-orange);font-style:italic;font-family:inherit}.info-card[_ngcontent-%COMP%]   .ai-description[_ngcontent-%COMP%]{font-size:14px;color:var(--geotech-text-secondary);line-height:1.6;margin:0}.info-card[_ngcontent-%COMP%]   .user-notes[_ngcontent-%COMP%]{font-size:14px;color:var(--geotech-text-primary);line-height:1.6;margin:0;white-space:pre-wrap}.info-card.notes-card[_ngcontent-%COMP%]{border-color:#7c3aed4d;background:#7c3aed14}.info-card.notes-card[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--geotech-accent-purple)}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: var(--geotech-radius-md);height:52px;font-weight:600;text-transform:none;margin:0}.action-buttons[_ngcontent-%COMP%]   ion-button.button-solid[_ngcontent-%COMP%]{--background: linear-gradient(135deg, var(--geotech-accent-cyan), #0099cc);--box-shadow: var(--geotech-glow-cyan);color:var(--geotech-bg-dark)}.action-buttons[_ngcontent-%COMP%]   ion-button[color=success][_ngcontent-%COMP%]{--background: linear-gradient(135deg, var(--geotech-accent-green), #0d9668);--box-shadow: var(--geotech-glow-green)}.action-buttons[_ngcontent-%COMP%]   ion-button[color=tertiary][_ngcontent-%COMP%]{--background: linear-gradient(135deg, #3b82f6, #2563eb);--box-shadow: 0 0 20px rgba(59, 130, 246, .3)}.action-buttons[_ngcontent-%COMP%]   ion-button[color=secondary][_ngcontent-%COMP%]{--background: linear-gradient(135deg, var(--geotech-accent-purple), #6d28d9);--box-shadow: var(--geotech-glow-purple)}.action-buttons[_ngcontent-%COMP%]   ion-button[fill=outline][_ngcontent-%COMP%]{--border-color: var(--geotech-border-glass);--background: var(--geotech-bg-glass-light);--color: var(--geotech-text-primary)}"]}))}return i(),s})()}];let L=(()=>{var i;class s{static#e=i=()=>(this.\u0275fac=function(r){return new(r||s)},this.\u0275mod=e.$C({type:s}),this.\u0275inj=u.G2t({imports:[E.iI.forChild(X),E.iI]}))}return i(),s})(),Y=(()=>{var i;class s{static#e=i=()=>(this.\u0275fac=function(r){return new(r||s)},this.\u0275mod=e.$C({type:s}),this.\u0275inj=u.G2t({imports:[M.MD,O.YN,h.bv,L]}))}return i(),s})()}}]);