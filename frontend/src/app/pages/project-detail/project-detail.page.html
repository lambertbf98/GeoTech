<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon name="arrow-back-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>{{ project?.name || 'Proyecto' }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="project-detail-content">
  <div class="project-info" *ngIf="project">
    <div class="info-card">
      <h2 class="project-name">{{ project.name }}</h2>
      <p class="project-description" *ngIf="project.description">{{ project.description }}</p>
      
      <div class="info-row">
        <ion-icon name="location-outline"></ion-icon>
        <span>{{ project.location || 'Sin ubicacion' }}</span>
      </div>
      
      <div class="info-row">
        <ion-icon name="calendar-outline"></ion-icon>
        <span>Creado: {{ formatDate(project.createdAt) }}</span>
      </div>
      
      <div class="info-row">
        <ion-icon name="images-outline"></ion-icon>
        <span>{{ photos.length }} fotos</span>
      </div>
      
      <div class="sync-status">
        <span class="sync-badge" [class.synced]="project.synced" [class.pending]="!project.synced">
          <ion-icon [name]="project.synced ? 'cloud-done-outline' : 'cloud-offline-outline'"></ion-icon>
          {{ project.synced ? 'Sincronizado' : 'Pendiente' }}
        </span>
      </div>
    </div>
  </div>

  <div class="photos-section" *ngIf="photos.length > 0">
    <h3 class="section-title">Fotos del proyecto</h3>
    <div class="photos-grid">
      <div class="photo-card" *ngFor="let photo of photos">
        <img [src]="photo.imagePath" alt="Foto" *ngIf="photo.imagePath">
        <div class="photo-info">
          <span class="photo-date" *ngIf="photo.timestamp">{{ formatDate($any(photo.timestamp)) }}</span>
          <span class="photo-coords" *ngIf="photo.latitude">
            {{ photo.latitude.toFixed(4) }}, {{ photo.longitude.toFixed(4) }}
          </span>
        </div>
      </div>
    </div>
  </div>

  <div class="empty-state" *ngIf="photos.length === 0">
    <div class="empty-icon">
      <ion-icon name="images-outline"></ion-icon>
    </div>
    <p class="empty-title">Sin fotos</p>
    <p class="empty-description">Este proyecto aun no tiene fotos. Ve a la camara para agregar fotos.</p>
  </div>
</ion-content>
